<div class="product-list-page">
  <!-- Page Header -->
  <section class="page-header">
    <div class="container">
      <div class="header-content">
        <h1 class="page-title">Our Products</h1>
        <p class="page-subtitle">Discover our wide range of premium products</p>
      </div>
    </div>
  </section>

  <!-- Product Filters -->
  <section class="product-filters">
    <div class="container">
      <div class="filters-container">
        <div class="filter-group">
          <label for="category" class="filter-label">Category</label>
          <select id="category" class="form-control filter-select" (change)="onCategoryFilter($event)">
            <option value="all">All Categories</option>
            <option *ngFor="let category of getUniqueCategories()" [value]="category">{{ category }}</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="sort" class="filter-label">Sort By</label>
          <select id="sort" class="form-control filter-select" [(ngModel)]="currentSort" (change)="onSortChange()">
            <option value="featured">Featured</option>
            <option value="price-asc">Price: Low to High</option>
            <option value="price-desc">Price: High to Low</option>
            <option value="rating">Top Rated</option>
            <option value="newest">Newest First</option>
            <option value="name-asc">Name A-Z</option>
            <option value="name-desc">Name Z-A</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="price" class="filter-label">Price Range</label>
          <div class="price-range">
            <input type="number" class="form-control price-input" placeholder="Min" [value]="priceRange.current.min" (change)="onMinPriceChange($event)" min="0">
            <span class="price-separator">-</span>
            <input type="number" class="form-control price-input" placeholder="Max" [value]="priceRange.current.max" (change)="onMaxPriceChange($event)" min="0">
            <button class="btn btn-secondary apply-btn" (click)="applyPriceFilter()">Apply</button>
          </div>
        </div>
        
        <div class="filter-actions">
          <button class="btn btn-secondary" (click)="clearAllFilters()">Reset Filters</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Loading State -->
  <section class="loading-section" *ngIf="loading">
    <div class="container">
      <div class="loading-content">
        <div class="spinner"></div>
        <p>Loading products...</p>
      </div>
    </div>
  </section>

  <!-- Error State -->
  <section class="error-section" *ngIf="error && !loading">
    <div class="container">
      <div class="error-content">
        <div class="error-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
        </div>
        <h3 class="error-title">Oops! Something went wrong</h3>
        <p class="error-message">{{ error }}</p>
        <button class="btn btn-primary" (click)="loadProducts()">Try Again</button>
      </div>
    </div>
  </section>

  <section class="empty-section" *ngIf="!loading && filteredProducts.length === 0 && !error">
    <div class="container">
      <div class="empty-content">
        <div class="empty-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <path d="M16 10a4 4 0 0 1-8 0"></path>
          </svg>
        </div>
        <h3 class="empty-title">No products found</h3>
        <p class="empty-message">Try adjusting your filters or search terms</p>
        <button class="btn btn-primary" (click)="clearAllFilters()">Reset Filters</button>
      </div>
    </div>
  </section>

  <section class="product-grid-section" *ngIf="!loading && !error && filteredProducts.length > 0">
    <div class="container">
      <div class="section-header">
        <div class="results-info">
          <span class="results-count">{{ filteredProducts.length }} products found</span>
          <span class="active-filters" *ngIf="getActiveFiltersCount() > 0">
            ({{ getActiveFiltersCount() }} active filter{{ getActiveFiltersCount() > 1 ? 's' : '' }})
          </span>
        </div>
      </div>
      
      <div class="products-grid">
        <app-product-card
          *ngFor="let product of getPaginatedProducts(); trackBy: trackByProduct"
          [product]="product"
          [viewMode]="currentView"
          (addToCart)="onAddToCart($event)"
          (addToWishlist)="onAddToWishlist($event)"
          (addToCompare)="onAddToCompare($event)"
          (buyNow)="onBuyNow($event)">
        </app-product-card>
      </div>
      
      <!-- Pagination -->
      <div class="pagination" *ngIf="totalPages > 1">
        <button class="pagination-btn" [disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        
        <div class="pagination-numbers">
          <button 
            class="pagination-btn" 
            [class.active]="page === currentPage"
            *ngFor="let page of getPageNumbers()" 
            (click)="goToPage(page)">
            {{ page }}
          </button>
        </div>
        
        <button class="pagination-btn" [disabled]="currentPage === totalPages" (click)="goToPage(currentPage + 1)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    </div>
  </section>
</div>